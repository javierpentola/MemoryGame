<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Advanced Memory Game</title>
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    <link href="https://unpkg.com/nes.css/css/nes.css" rel="stylesheet" />
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: #000;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 20px;
        }

        #game-board {
            width: 80%;
            margin: auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .card {
            width: 110px;
            height: 110px;
            margin: 10px;
            cursor: pointer;
            perspective: 1000px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border: 1px solid #fff;
        }

        .card-back {
            transform: rotateY(180deg);
            background: #fff;
        }

        .timer, .score {
            margin: 20px;
        }

        .difficulty-selector {
            margin: 20px;
        }

        .card img {
            width: 110%; /* Aumenta un poco el tama침o de las im치genes */
            height: 110%; /* Aumenta un poco el tama침o de las im치genes */
            object-fit: cover;
            position: absolute;
            top: -5%;
            left: -5%;
        }
    </style>
</head>
<body>
    <div class="difficulty-selector">
        <label for="difficulty">Choose Difficulty:</label>
        <select id="difficulty">
            <option value="easy">Easy</option>
            <option value="medium">Medium</option>
            <option value="hard">Hard</option>
        </select>
        <button onclick="startGame()">Start Game</button>
    </div>
    <div class="timer nes-container is-rounded">Time: <span id="time">60</span> seconds</div>
    <div class="score nes-container is-rounded">Score: <span id="score">0</span></div>
    <div id="game-board" class="nes-container with-title">
        <span class="title">Memory Game</span>
    </div>

    <audio id="win-sound" src="children.mp3"></audio>
    <audio id="correct-sound" src="correct.mp3"></audio>
    <audio id="wrong-sound" src="wrong.mp3"></audio>

<script>
    const easyCards = [
        { name: 'card1', img: 'photo_2023-11-30_09-50-36.jpg' },
        { name: 'card1', img: 'photo_2023-11-30_09-50-36.jpg' },
        { name: 'card2', img: 'photo_2023-11-30_12-03-59.jpg' },
        { name: 'card2', img: 'photo_2023-11-30_12-03-59.jpg' }
    ];

    const mediumCards = [
        { name: 'card1', img: 'photo_2023-11-30_09-50-36.jpg' },
        { name: 'card1', img: 'photo_2023-11-30_09-50-36.jpg' },
        { name: 'card2', img: 'photo_2023-11-30_12-03-59.jpg' },
        { name: 'card2', img: 'photo_2023-11-30_12-03-59.jpg' },
        { name: 'card3', img: 'photo_2023-11-30_15-19-05.jpg' },
        { name: 'card3', img: 'photo_2023-11-30_15-19-05.jpg' },
        { name: 'card4', img: 'photo_2023-12-01_04-41-48.jpg' },
        { name: 'card4', img: 'photo_2023-12-01_04-41-48.jpg' }
    ];

    const hardCards = [
        { name: 'card1', img: 'photo_2023-11-30_09-50-36.jpg' },
        { name: 'card1', img: 'photo_2023-11-30_09-50-36.jpg' },
        { name: 'card2', img: 'photo_2023-11-30_12-03-59.jpg' },
        { name: 'card2', img: 'photo_2023-11-30_12-03-59.jpg' },
        { name: 'card3', img: 'photo_2023-11-30_15-19-05.jpg' },
        { name: 'card3', img: 'photo_2023-11-30_15-19-05.jpg' },
        { name: 'card4', img: 'photo_2023-12-01_04-41-48.jpg' },
        { name: 'card4', img: 'photo_2023-12-01_04-41-48.jpg' },
        { name: 'card5', img: 'photo_2023-12-01_09-07-24.jpg' },
        { name: 'card5', img: 'photo_2023-12-01_09-07-24.jpg' },
        { name: 'card6', img: 'photo_2023-12-01_11-42-50.jpg' },
        { name: 'card6', img: 'photo_2023-12-01_11-42-50.jpg' },
		{ name: 'card1', img: 'photo_2023-11-30_09-50-36.jpg' },
        { name: 'card1', img: 'photo_2023-11-30_09-50-36.jpg' },
        { name: 'card2', img: 'photo_2023-11-30_12-03-59.jpg' },
        { name: 'card2', img: 'photo_2023-11-30_12-03-59.jpg' },
        { name: 'card3', img: 'photo_2023-11-30_15-19-05.jpg' },
        { name: 'card3', img: 'photo_2023-11-30_15-19-05.jpg' },
        { name: 'card4', img: 'photo_2023-12-01_04-41-48.jpg' },
        { name: 'card4', img: 'photo_2023-12-01_04-41-48.jpg' },
        { name: 'card5', img: 'photo_2023-12-01_09-07-24.jpg' },
        { name: 'card5', img: 'photo_2023-12-01_09-07-24.jpg' },
        { name: 'card6', img: 'photo_2023-12-01_11-42-50.jpg' },
        { name: 'card6', img: 'photo_2023-12-01_11-42-50.jpg' }
    ];

    let flippedCards = [];
    let matchedPairs = 0;
    let score = 0;
    let time = 60;
    let timer;
    let cardsArray = [];

    function startGame() {
        const difficulty = document.getElementById('difficulty').value;
        if (difficulty === 'easy') {
            cardsArray = [...easyCards];
            time = 60;
        } else if (difficulty === 'medium') {
            cardsArray = [...mediumCards];
            time = 90;
        } else if (difficulty === 'hard') {
            cardsArray = [...hardCards];
            time = 120;
        }

        const shuffledCards = shuffle(cardsArray);
        const gameBoard = document.getElementById('game-board');
        gameBoard.innerHTML = '';

        shuffledCards.forEach(card => {
            const cardElement = document.createElement('div');
            cardElement.classList.add('card');
            cardElement.innerHTML = `
                <div class="card-inner">
                    <div class="card-front nes-container is-rounded"></div>
                    <div class="card-back nes-container is-rounded">
                        <img src="${card.img}" alt="${card.name}">
                    </div>
                </div>`;
            cardElement.addEventListener('click', onCardClick);
            gameBoard.appendChild(cardElement);
        });

        document.querySelectorAll('.card img').forEach(img => {
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'cover';
        });

        score = 0;
        matchedPairs = 0;
        flippedCards = [];
        document.getElementById('score').innerText = score;
        document.getElementById('time').innerText = time;
        clearInterval(timer);
        timer = setInterval(updateTimer, 1000);
    }

    function onCardClick(e) {
        const clickedCard = e.currentTarget;
        if (flippedCards.length < 2 && !clickedCard.classList.contains('flipped')) {
            clickedCard.classList.add('flipped');
            flippedCards.push(clickedCard);

            if (flippedCards.length === 2) {
                checkForMatch();
            }
        }
    }

    function checkForMatch() {
        const [card1, card2] = flippedCards;
        if (card1.innerHTML === card2.innerHTML) {
            playSound('correct-sound');
            score += 10;
            matchedPairs++;
            flippedCards = [];
            if (matchedPairs === cardsArray.length / 2) {
                clearInterval(timer);
                playSound('win-sound');
                alert('You won!');
            }
        } else {
            playSound('wrong-sound');
            setTimeout(() => {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                flippedCards = [];
            }, 1000);
        }
        document.getElementById('score').innerText = score;
    }

    function updateTimer() {
        time--;
        document.getElementById('time').innerText = time;
        if (time === 0) {
            clearInterval(timer);
            alert('Time up! Game over!');
            startGame();
        }
    }

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function playSound(id) {
        const sound = document.getElementById(id);
        sound.play();
    }

    document.addEventListener('DOMContentLoaded', startGame);
</script>


</body>
</html>
